---
layout: post
title:  yazi - FM
category: Program
---

#yazi - FM

[yazi](https://github.com/sxyazi/yazi)

• github.com/sxyazi/yazi

Arch Linux

- sudo pacman -S yazi ffmpegthumbnailer p7zip jq poppler fd ripgrep fzf zoxide  imagemagick

NetBSD

- pkgin install yazi ffmpeg7 p7zip jq poppler fd ripgrep fzf zoxide ImageMagick

BSD

- - pkg install yazi

Yazi — молниеносный терминальный файловый менеджер, написанный на Rust.

• Встроенная поддержка нескольких протоколов изображений

• Полная асинхронная поддержка: все операции ввода-вывода являются асинхронными, задачи ЦП распределяются по нескольким потокам, что позволяет максимально эффективно использовать доступные ресурсы.

• Встроенная подсветка кода

• Интеграция с fd, rg, fzf, zoxy

• Vim-подобное управление

• Поддержка нескольких вкладок, предварительный просмотр с возможностью прокрутки (для видео, PDF-файлов, архивов, каталогов, кода и т. д.)

• Система тем, пользовательские макеты, корзина для мусора
и многое другое...

Совместим с GNU/Linux, Windows, macOS

#### Релиз терминального файлового менеджера Yazi 0.4.0

Yazi («утка» по-китайски) — терминальный файловый менеджер, написанный на Rust с реализацией асинхронного ввода-вывода. Его цель — обеспечить эффективное, удобное и настраиваемое управление файлами.

Модный, молодежный, быстрый (но это неточно), интуитивная навигация по каталогам стрелками, можно просматривать картинки, для иконок нужен патченный Nerd-шрифт. Более красивая версия ranger.

Yazi можно дополнительно расширить с помощью других инструментов командной строки, чтобы включить дополнительные функции.

Common Shortcuts:

    Directory Navigation:
        j: Move cursor down
        k: Move cursor up
        h: Go to parent directory
        l: Enter the selected directory
    File Operations:
        d: Delete the selected file
        x: Cut the selected file
        y: Copy the selected file
        p: Paste files
        r: Rename file
    Others:
        .: Show hidden files
        q: Quit
        ~: Open help
        Z: Use fzf to jump to a directory or display files (requires fzf installation)

    Nerd Fonts – an iconic font aggregator, collection, and patcher.
    ffmpegthumbnailer – a lightweight video thumbnailer.
    unar – for archive preview.
    jq – a lightweight and flexible command-line JSON processor.
    Poppler – a library for rendering PDF files, and examining or modifying their structure.
    fd – searches for files in a directory hierarchy. It offers a number of notable improvements to the venerable find.
    ripgrep – recursively searches directories for a regex pattern while respecting your gitignore
    fzf – a general-purpose command-line fuzzy finder.
    zoxide – a smarter cd command, inspired by z and autojump which features in our top 100 CLI apps.

Nerd Fonts — коллекция шрифтов.
ffmpegthumbnailer – легкий миниатюрный редактор видео.
unar – для просмотра архива.
jq — легкий и гибкий процессор JSON командной строки.
Poppler — библиотека для рендеринга PDF-файлов, а также проверки или изменения их структуры.
fd – ищет файлы в иерархии каталогов. Он предлагает ряд заметных улучшений почтенной находки.
ripgrep — рекурсивно ищет в каталогах шаблон регулярного выражения, соблюдая при этом ваш gitignore
fzf — универсальный инструмент для поиска нечетких данных из командной строки.
zoxide— более умная команда cd, вдохновленная z и autojump, которые присутствуют в наших 100 лучших приложениях CLI.

Yazi можно дополнительно расширить с помощью других инструментов командной строки, чтобы включить дополнительные функции.

    nerd-fonts (recommended)
    ffmpeg (for video thumbnails)
    7-Zip (for archive extraction and preview)
    jq (for JSON preview)
    poppler (for PDF preview)
    fd (for file searching)
    rg (for file content searching)
    fzf (for quick file subtree navigation)
    zoxide (for historical directories navigation)
    ImageMagick (for SVG, Font, HEIC, and JPEG XL preview)
    xclip / wl-clipboard / xsel (for system clipboard support)


Для навигации мы можем использовать клавиши типа Vim (hjkl) или клавиши со стрелками.
Что еще предлагает Язи?

    Визуальный режим и пакетное переименование.
    Встроенная подсветка кода.
    Ввод в стиле Vim и выбор компонента
    Мульти-Таб и ФЗФ, Зоксид
    Множественный выбор и управление задачами
    Инкрементный поиск
    Хороший функционал поиска.
    Плагины написаны на Lua.
    Темы.
    
#### Настройка конфигурации по умолчанию

Существует три конфигурационных файла для Yazi:

    yazi.toml - Общая настройка.
    keymap.toml - Конфигурация привязок клавиш.
    theme.toml - Настройка цветовой схемы. 

Все это войдет ~/.config/yazi

#### Давайте создадим их.

Сначала создадим директорию yazi config

mkdir -p ~/.config/yazi

Затем, наконец, создайте или скопируйте готовые три файла конфигурации:

- touch yazi.toml keymap.toml theme.toml

https://github.com/sxyazi/yazi/tree/main -- > https://github.com/sxyazi/yazi/tree/main/yazi-config/preset

#### Изменение редактора по умолчанию

Чтобы изменить редактор по умолчанию, который используется при открытии файла кода/текста или каталога, вы можете изменить EDITOR переменная среды.

Например, в zsh откройте файл zshrc с выбранным вами редактором и добавьте следующий внизу:

- export EDITOR=nvim

Замените nvim на команду редактора, которую вы хотели бы использовать 

Установка A Flavor (Для Темы)

Убедитесь, что вы находитесь в каталоге yazi config

- cd ~/.config/yazi

Теперь создайте каталог вкусов

- mkdir flavors

Затем вы можете перейти сюда (https://github.com/yazi-rs/flavors), чтобы найти вкус, который вам нравится.

Найдя его, выполните команду в README.md для его установки с помощью команды ya pack Пакетный менеджер yazi для плагинов и разновидностей.

Например, вы можете установить вкус катппучин-мокко следующим образом:

- ya pack -a yazi-rs/flavors:catppuccin-mocha

После установки вы можете открыть файл theme.toml 
Файл, который мы создали ранее в выбранном вами редакторе.

Я использую Neovim так:

- nvim ~/.config/yazi/theme.toml

А затем вы можете добавить в этот файл следующее, чтобы использовать аромат:

[flavor]

dark = "catppuccin-mocha"

light = "catppuccin-mocha"

Замените катппучин-мокко на название выбранной темы.

#### Раскладки клавиш 

Vim - подобные

Вы также можете увидеть доступные раскладки клавиш, нажав ~ или F1

---

#### Предварительный просмотр изображения

Язи проделал большую работу по адаптации к различным терминалам и мультиплексорам, стараясь сделать их максимально готовыми для пользователей.

Это отнюдь не простая задача, для снижения затрат на обслуживание мы гарантируем только наличие в последней версии терминалов и мультиплексоров (tmux, Zellij): 

kitty	-  Kitty unicode placeholders	✅ Built-in

iTerm2	-  Inline images protocol	✅ Built-in

WezTerm	Inline images protocol	✅ Built-in

Konsole  -	Kitty old protocol	✅ Built-in

foot	-  Sixel graphics format	✅ Built-in

Ghostty	- Kitty unicode placeholders	✅ Built-in

Windows Terminal (>= v1.22.2702.0)	 - Sixel graphics 
format	✅ Built-in

st with Sixel patch	Sixel graphics format	✅ Built-in

Tabby	Inline images protocol	✅ Built-in

VSCode	Inline images protocol	✅ Built-in

Rio	Inline images protocol	❌ Rio doesn't correctly clear images (#1786)

Black Box	Sixel graphics format	✅ Built-in

Hyper	Inline images protocol	✅ Built-in

X11 / Wayland	Window system protocol	☑️ Überzug++ required
Fallback	ASCII art (Unicode block)	☑️ Chafa required

---

https://kb.adamsdesk.com/application/yazi-keyboard-shortcuts/

https://github.com/sxyazi/yazi/blob/shipped/yazi-config/preset/keymap-default.toml

Быстрый справочник по сочетаниям клавиш Yazi

Эффективный, удобный и настраиваемый быстрый файловый менеджер терминала, написанный на Rust на основе неблокирующего асинхронного ввода/вывода (ввода-вывода). Название «Язы» означает «утка».

Ниже приведена конфигурация сочетаний клавиш или привязок клавиш по умолчанию (keymap.toml)

#### Файловые операции
```
Отменить копирование/вырезание файлов(ов) 	X
Отменить копирование/вырезание файлов(ов) 	Y
Смена директории с помощью zoxide 	z
Изменение каталога/раскрытие файла с помощью fzf 	Z
Скопировать путь к директории 	c + d
Копировать путь к файлу 	c + c
Копировать имя файла 	c + f
Копирование имени файла без расширения 	c + n
Скопировать выбранный файл(ы) 	y
Создание файла/каталога 	a 	Заканчивайте на / (косая черта) для каталогов.
Вырезать выбранные файлы 	x
Удалить выбранные файлы (корзина) 	d
Удалить выбранные файлы навсегда 	D
Открыть выбранные файлы 	Enter
Открыть выбранные файлы 	o
Открывайте выбранные файлы в интерактивном режиме 	Ctrl + Enter 	Некоторые терминалы пока не поддерживают эту функцию.
Открывайте выбранные файлы в интерактивном режиме 	O
Открывайте выбранные файлы в интерактивном режиме 	Shift + Enter
Вставить файл(ы) 	p
Вставить файл(ы) 	P 	Если файл (файлы) существует в месте назначения, перезапишите.
Переименовать выбранные файлы 	r
Запуск команды оболочки 	;
Запуск команды оболочки 	: 	Блокируйте до конца.
Символическая ссылка Абсолютный путь Скопированный файл(ы) 	-
Скопированный файл(ы) жесткой ссылки с символической ссылкой 	Ctrl + -
Относительный путь к символической ссылке Скопированный файл(ы) 	_
Переключить видимость скрытых файлов 	.
```
#### Поиск файлов
```
Отмена текущего поиска 	Ctrl + s
Фильтр файлов 	f
Найти следующий файл 	/
Найти предыдущий файл 	?
Следующий найденный товар 	n
Ранее найденный товар 	N
Поиск файлов(ов) по содержимому с помощью ripgrep 	S
Поиск файлов(ов) по имени с помощью fd 	s
Разное ¶
Задача 	Ярлык(и) 	Примечания
Справка 	~ 	Отображение экрана справки.
Справка 	F1 	Отображение экрана справки.
Покидать 	q 	Закройте приложение Язи.
Выход без записи файла CWD 	Q 	Вполне себе приложение Yazi без записи текущего файла рабочей директории.
Приостановка процесса 	Ctrl + z
```
#### Навигация
```
Назад Родительский каталог 	←
Назад Родительский каталог 	h
Назад Родительский каталог 	H
Изменить конфигурацию директории 	g + c 	Перейдите в директорию config "~/.config".
Смена каталога загрузок 	g + d 	Перейдите в каталог загрузок "~/Downloads".
Изменить домашнюю страницу каталога 	g + h 	Перейдите в домашнюю директорию, "~/".
Интерактивное изменение каталога 	g + Spacebar 	Измените введенный путь к директории.
Вход в каталог выделен 	→
Вход в каталог выделен 	l
Переслать следующий каталог 	L
Переместить курсор вниз 	G
Переместить курсор вниз 	↓
Переместить курсор вниз 	j
Переместить курсор вниз на полстраницы 	Ctrl + d
Переместить курсор вниз на полстраницы 	Shift + Page Down
Переместить курсор вниз на одну страницу 	Ctrl + f
Переместить курсор вниз на одну страницу 	Page Down
Переместить курсор наверх 	g + g
Переместить курсор вверх 	↑
Переместить курсор вверх 	k
Переместить курсор на полстраницы вверх 	Ctrl + u
Переместить курсор на полстраницы вверх 	Shift + Page Up
Переместить курсор вверх на одну страницу 	Ctrl + b
Переместить курсор вверх на одну страницу 	Page Up
Перемещение вниз на 5 единиц (превью) 	J
Переместиться на 5 единиц вверх (предварительная версия) 	K
```
#### Выбор
```
Отменить выбор 	Ctrl + [
Отменить выбор 	Ctrl + c
Отменить выбор 	Esc
Выбрать все файлы 	Ctrl + a
Выбрать все файлы в обратном порядке 	Ctrl + r
Отправить выбор 	Enter
Переключить выбор 	Spacebar 	Переключите выбор выделенного файла или каталога.
Визуальный режим выключен 	V 	Неустановленный режим.
Визуальный режим включен 	v 	Режим выделения.
```
#### Вид сортировки
```
Сортировка в алфавитном порядке 	, + A
Сортировка по времени создания 	, + c
Сортировка по времени создания в обратном порядке 	, + C
Сортировка по расширению файла 	, + e
Обратная сортировка по расширению файла 	, + E
Сортировка по времени изменения 	, + m
Сортировка по измененному времени в обратном направлении 	, + M
Сортировать по размеру 	, + s
Сортировать по размеру 	, + S
Сортировать естественно 	, + n
Сортировка естественно в обратном порядке 	, + N
Сортировка случайным образом 	, + r
```
#### Управление вкладками
```
Новая вкладка 	t 	Для создания новой вкладки используется текущая рабочая директория (CWD).
Вкладка «Переключатель» 	с 1 до 9 	Переключается на нужную вкладку, от 1 до 9.
Переключить предыдущую вкладку 	[
Переключиться на следующую вкладку 	]
Поменять местами текущую вкладку на предыдущую 	{
Поменять местами текущую вкладку на следующую вкладку 	}
Закрыть текущую вкладку 	Ctrl + c 	Если только одна вкладка, то закройте приложение.
```
#### Диспетчер задач
```
Отмена задачи 	x
Закрыть окно 	Ctrl + [
Закрыть окно 	Ctrl + c
Закрыть окно 	Esc
Закрыть окно 	w
Задача "Инспектировать 	Enter
Переместить курсор вниз 	↓
Переместить курсор вниз 	j
Переместить курсор вверх 	↑
Переместить курсор вверх 	k
Показать диспетчер задач 	w 	Отображение списка активных задач.
```
#### Конфигурация.Где находятся каталоги и файлы
```
~/.config/yazi 	Файлы конфигурации пользователя Yazi.
~/.config/yazi/flavors/ 	Где хранятся готовые темы Язи.
~/.config/text/keymap.toml 	Файл конфигурации сочетаний клавиш/сочетаний клавиш.
~/.config/yazi/plugins/ 	Где хранятся плагины Lua.
~/.config/text/theme.toml 	Файл конфигурации цветовой схемы.
~/.config/text/text.toml 	Общий конфигурационный файл.
```

