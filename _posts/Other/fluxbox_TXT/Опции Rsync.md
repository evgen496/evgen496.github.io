Теперь давайте кратко рассмотрим параметры rsync. Здесь перечислены не все опции. Для более подробной информации смотрите man rsync:

    -v - Выводить подробную информацию о процессе копирования;
    -q - Минимум информации;
    -c - Проверка контрольных сумм для файлов;
    -a - Режим архивирования, когда сохраняются все атрибуты оригинальных файлов;
    -R - Относительные пути;
    -b - Создание резервной копии;
    -u - Не перезаписывать более новые файлы;
    -l - Копировать символьные ссылки;
    -L - Копировать содержимое ссылок;
    -H - Копировать жесткие ссылки;
    -p - Сохранять права для файлов;
    -g - Сохранять группу;
    -t - Сохранять время модификации;
    -x - Работать только в этой файловой системе;
    -e - Использовать другой транспорт, например, ssh;
    -z - Сжимать файлы перед передачей;
    --delete - Удалять файлы которых нет в источнике;
    --exclude - Исключить файлы по шаблону;
    --recursive - Перебирать директории рекурсивно;
    --no-recursive - Отключить рекурсию;
    --progress - Выводить прогресс передачи файла;
    --stat - Показать статистику передачи;
    --version - Версия утилиты.

### Синтаксис Rsync

В этом разделе мы приведем основные параметры, с которыми выполняется Rsync. Синтаксис в общем виде выглядит так:

rsync -options <source> <destination>

-options — параметры, с которыми должна выполняться утилита.

<source>— каталог или файл, который является источником.

<destination> — каталог или файл, который является приемником.

Ниже приведены основные параметры, с которыми вызывается Rsync:

-v, —verbose — для отображения отладочной информации в процессе синхронизации.

-q, —quiet — для запрета вывода об ошибках.

-c, —checksum — для сравнения файлов по контрольной сумме, вместо даты/времени изменения или размера.

-a, —archive — включение сжатия данных.

-r, —recursive — для включения режима рекурсивного копирования директорий.

-b, —backup — для активации режима режима резервного копирования, чтобы создавались резервные копии оригинальных файлов при обновлении.

—backup-dir=<каталог> — каталог, в котором будут храниться резервные копии.

—suffix=SUFFIX — суффикс для файлов, сохраняемых в режиме резервного копирования..

-u, —update — для пропуска обновления файлов с более поздней датой изменения.

-l, —links — для сохранения символических ссылок.

-H, —hard-links — для сохранения жестких ссылок.

-p, —perms — для сохранения разрешений объекта (файла или каталога).

-E, —executability — для сохранения прав на исполнение.

—chmod=<права> — для изменения прав доступа на конкретные объекты (файлы или каталоги).

-o, —owner — для сохранения владельца объекта.

-g, —group — для сохранения группы владельца.

-S, —sparse — для выполнения дефрагментации одновременно с копированием данных.

-n, —dry-run — для тестирования без копирования;

-W, —whole-file — для копирования файлов целиком, по умолчанию копируется только часть с изменениями.

—delete — для удаления старых файлов, если их уже нет в источнике копирования.

—delete-before — для удаления файлов в папке назначения до начала синхронизации.

—max-delete=<количество файлов> — для ограничения максимального числа удаляемых файлов.

—max-size=<размер файлов> — для ограничения максимального размера передаваемых файлов.

—min-size=<размер файлов> — для ограничения минимального размера передаваемых файлов.

-z, —compress — для включения сжатия файлов во время передачи.

—compress-level=<число> — для установки уровня сжатия от 0 до 9.

—exclude=<имена файлов> — для исключения из синхронизации файлов.

—exclude-from=<имя файла> — для исключения из синхронизации файлов, указанных в файле.

—include=<имена файлов> — для включения в синхронизацию файлов.

—include-from=<имя файла> — для включения в синхронизацию файлов, указанных в файле.

—port=<порт> — для установки сетевого порта для подключения на удаленном узле.

—progress — для включения строки прогресса при синхронизации.

—log-file=<файл> — для указания места расположения лог-файла.

—password-file=<файл> — При аутентификации пароль можно хранить в специальном файле. Это необходимо для автоматизации выполнения команды без пароля.

—list-only — для отображения имен файлов без копирования.

—bwlimit=<число> — для ограничения скорости передачи в Кбит/c.

-4, —ipv4 — приоритет использования IPv4.

-6, —ipv6 — приоритет использования IPv6.

—version — для вывода версии Rsync.
---

#### rsynk

````
- /

rsync -aAXvzh / --exclude={"/home/*","/dev/*","/proc/*","/sys/*","/tmp/*","/run/*","/mnt/*","/media/*","/lost+found"} /home/jenit/2022-08-13/

&&&&&&

sudo rsync -aAXvzh / --exclude={"/home/*","/dev/*","/proc/*","/sys/*","/tmp/*","/run/*","/mnt/*","/media/*","/lost+found"} /home/jenit/2022-08-13/

&&&&&&

- /home

rsync -aAXvzh /home/jenit --exclude={'/jenit/.cache','/jenit/.local','/jenit/мое_фото','/jenit/мое_видео','/jenit/музыка_видео','/jenit/Музыка'} /run/media/jenit/da6b9bec-08ef-4205-ac88-d373c65699bd/slackware_14.2_home/

sudo rsync -aAXvzh /home/jenit --exclude={'/jenit/.cache','/jenit/.local','/jenit/мое_фото','/jenit/мое_видео','/jenit/музыка_видео','/jenit/Музыка'} /run/media/jenit/da6b9bec-08ef-4205-ac88-d373c65699bd/slackware_14.2_home/
````
#### ==**_Без sudo_**:==

нужно отредактировать **/etc/sudoers** и позволить одному юзеру запускать твой файл с привелегиями рута Файл обязательно нужно запретить редактировать данному юзеру

> - Allow members of group sudo to execute any command
>
> - (Разрешить членам группы sudo выполнять любую команду)
>
>
> %sudo ALL=(ALL:ALL) ALL user ALL = NOPASSWD: /home/user/Documents/script.sh
