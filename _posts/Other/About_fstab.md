В Linux все разделы, используемые системой, должны быть записаны в файле /etc/fstab . Этот файл содержит информацию о точках монтирования разделов (где они должны быть видны в структуре файловой системы), как они должны быть подключены, а также специальные параметры (автоматическое подключение или нет, может ли пользователь их подключать или нет и так далее).

### Создание файла fstab

#### Заметка

Если используется система инициализации systemd, UUID разделов соответствуют спецификации обнаруживаемых разделов, как указано в разделе «Подготовка дисков» , и система использует UEFI, то создание fstab можно пропустить, поскольку systemd автоматически монтирует разделы, соответствующие спецификации.

В файле /etc/fstab используется синтаксис, напоминающий таблицу. Каждая строка состоит из шести полей, которые разделены пропусками (пробелами, отступами или смесь этого). Каждое поле имеет своё значение:

    Первое поле содержит блочное устройство (или удалённую файловую систему), которое следует примонтировать. Для экземпляров блочных устройств возможно использование различных идентификаторов, включая путь к устройству, метки файловой системы, метки раздела и UUID

    Второе поле содержит точку монтирования, к которой следует монтировать раздел.

    Третье поле содержит тип файловой системы, используемой разделом.

    Четвёртое поле содержит параметры, используемые командой mount во время монтирования. Так как у каждой файловой системы могут быть собственные уникальные параметры, рекомендуется прочитать man-страницу команды mount ( man mount ), чтобы получить полный список всех возможных параметров. Параметры монтирования разделяются запятыми.

    Пятое поле используется командой dump для определения того, нуждается ли раздел в дампе или нет. Обычно это поле содержит 0 (ноль)
    .
    Шестое поле используется командой fsck для определения порядка проведения проверки ошибок файловой системы, если система была отключена некорректно. Для корневой файловой системы необходимо указывать 1, для остальных — 2 (или 0, если проверка не требуется вовсе).

### Системы UEFI

Ниже приведен пример файла /etc/fstab для системы, которая будет загружаться через прошивку UEFI:

#### /etc/fstab - Полный пример /etc/fstab для системы UEFI
```
/dev/sda1     /efi            vfat    umask=0077            0 2

/dev/sda2     none            swap    W                     0 0

/dev/sda3     /               xfs     default, noatime      0 1

</div>

/dev/cdrom    /mnt/cdrom       auto    noauto,user          0 0
```
### DPS UEFI PARTUUID

Ниже приведен пример файла /etc/fstab для диска, отформатированного с использованием метки диска GPT и UUID обнаруживаемых разделов (DPS), установленных для прошивки UEFI:

#### /etc/fstabDPS - PARTUUID fstab example
```
# Откорректируйте любые различия в форматировании и дополнительные разделы, созданные на этапе «Подготовка дисков»

# В этом примере показана метка диска GPT с набором UUID обнаруживаемых разделов (DSP):`

PARTUUID=c12a7328-f81f-11d2-ba4b-00a0c93ec93b   /efi        vfat    umask=0077                   0 2

PARTUUID=0657fd6d-a4ab-43c4-84e5-0933c84b4f4f   none        swap    sw                           0 0

PARTUUID=4f68bce3-e8cd-4db1-96e7-fbcaf984b709   /           xfs     defaults,noatime             0 1
```
### Редактирование файла fstab

- nano /etc/fstab

#### UUID можно узнать с помощью blkid

для большего удобства можно сделать так

`blkid /dev/sda1 >> /etc/fstab`

`blkid /dev/sda2 >> /etc/fstab`

`blkid /dev/sda3 >> /etc/fstab`

`blkid /dev/sda4 >> /etc/fstab`

