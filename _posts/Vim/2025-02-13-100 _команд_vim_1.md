---
layout: post
title:  100 команд vim №1
category: vim
---

#### Поиск

- /word  -	Искать слово “word” сверху вниз

- ?word  -	Искать слово “word” снизу вверх

- /jo[ha]n>  -	Искать “john” или “joan”

- /\< the  -	Искать слова, начинающееся на “the”

- /the\>  -	Искать слова, заканчивающиеся на “the”

- /\< the\>  -	Искать “the” (точное соответствие)

- /\< …. \>  -	Искать слова из четырех символов

- /fred\|joe -	Искать “fred” или “joe”

- /\<\d\d\d\d\>  -	Искать 4 цифры подряд

- /^\n\{3}  -	Искать 3 пустые строки

- :bufdo /searchstr/ -	Искать во всех открытых файлах

- noh - выйти из режима поиска,выключит подсветку найденого

#### Удаление

- d^ -	Удалить все символы от текущей позиции до начала строки

- d$ -	Удалить все символы от текущей позиции до конца строки

- d/word -	Удалить всё от текущей позиции до слова "word"

- dfx -	Удалить всё от текущей позиции до символа "x"

#### Замена

- :%s/old/new/g  -	Заменить все вхождения “old” на “new”

- :%s/old/new/gw  -	Заменить все вхождения “old” на “new” с запросом подтверждения

- :2,35s/old/new/g  -	Заменить все вхождения “old” на “new” между 2 и 35 строками

- :5,$s/old/new/g  -	Заменить все вхождения “old” на “new” начиная с 5 строки и до конца файла

- :%s/^/hello/g  -	Добавить “hello” в начало каждой строки

- :%s/$/Harry/g  -	Добавить “Harry” в конец каждой строки

- :%s/onward/forward/gi  -	Заменить “onward” на “forward” с учетом регистра

- :%s/ *$//g  -	Убрать все пробелы

- :g/string/d  -	Удалить все строки, содержащие “string”

- :v/string/d  -	Удалить все строки, не содержащие “string”

- :s/Bill/Steve/  -	Заменить первое вхождение “Bill” на “Steve” в текущей строке

- :s/Bill/Steve/g  -	Заменить все вхождения “Bill” на “Steve” в текущей строке

- :%s/\r//g  -	Убрать символ возврата каретки (Такие тексты обычно приходят от windows-пользователей)

- :%s#>[^<]\+>##g  -	Очистить текст от HTML-тегов

- :%s/^\(.*\)\n\1$/\1/  - 	Удалить строки, повторяющиеся дважды

- Ctrl+a -	Увеличить число под курсором на единицу

- Ctrl+x -	Уменьшить число под курсором на единицу

- ggVGg? -	Преобразовать текст в Rot13

#### Регистр

- Vu -	Перевести строку в нижний регистр

- VU -	Перевести строку в верхний регистр

- g~~ 	Инвертировать регистр

- vEU -	Перевести слово под курсором в верхний регистр

- vE~ -	Инвертировать регистр слова

- ggguG -	Перевести весь текст в нижний регистр

- :set ignorecase 	-  Регистронезависимый поиск

- :set smartcase  -	Игнорировать регистр при поиске, если в искомом выражении нет символов верхнего регистра

- :%s/\<./\u&/g  -	Перевести первую букву каждого слова в верхний регистр

- :%s/\<./\l&/g -	Перевести первую букву каждого слова в нижний регистр

- :%s/.*/\u& -	Перевести первую букву первого слова в каждой строке в верхний регистр

- :%s/.*/\l& -	Перевести первую букву первого слова в каждой строке в нижний регистр

#### Чтение/запись файлов

- :1,10 w outfile -	Записать в outfile с первой по десятую строки

- :1,10 w >> outfile -	Добавить в outfile с первой по десятую строки

- :r infile  -	Вставить содержимое файла infile

- :23r infile  -	Вставить содержимое файла infile после 23 строки

#### Навигация по ФС

- :e .  -	Открыть встроенный файл-менеджер

- :Sex  -	Разбить окно и открыть встроенный файл менеджер

- :browse e  -	Графический файл-менеджер

- :ls  -	Список буферов

- :cd ..  - 	Перейти в родительскую директорию

- :args  -	Список открытых файлов

- :args *.php  -	Открыть все файлы с расширением *.php

- :grep expression *.php  - 	Показать список файлов с расширением php, содержащих в имени expression

- gf -	Открыть файл с именем, равным слову, находящемуся под курсором

#### Основные команды для работы с буферами:

- :buffers - посмотреть открытые файлы

- :e file - редактировать файл в новом буфере

- :sp file - открыть файл в новом буфере и разделить окно

- :vsp file - открыть файл в новом буфере и вертикально разделить окно

- :bn - следующий буфер

- :bp - предыдущий

- :ls - просмотреть открытые буферы

- :b имя_буфера - переключиться на буфер, очень удобно комбинируется с табом, к примеру пишем :b domain, жмём таб и нам подставляется открытый iis_domain.cpp

- :bd - удалить текущий буфер, правда стоит заметить, что если этот буфер единственное окно то vim закроется

- :bd имя_буфера - удалить буфер по имени

#### Команды:

- :split — разделить, если указан файл то открыть его

- :vsplit — тоже только по вертикали

- :sb[uffer] — разделить и редактировать буффер. Важный момент: если заново открыть 
файл (к примеру через :split) то буфер сбрасывается, вместе с историей отмен и положением курсора

#### Вкладки

- :tabnew  -	Создать новую вкладку

- gt  -	Перейти на следующую вкладку

- :tabfirst  -	Перейти на первую вкладку

- :tablast  - 	Перейти на последнюю вкладку

- :tabm n(position)  -	Изменить порядок вкладок

- :tabdo %s/foo/bar/g  -	Выполнить команду во всех вкладках

- :tab ball  -	Поместить все открытые файлы во вкладки

#### Взаимодействие с ОС

- :!pwd -	Выполнить команду pwd и вернуться

- !!pwd -	Выполнить команду pwd и вставить результат в редактор

- :sh -	Открыть шелл

- \$ exit -	Вернуться в редактор из шелла

#### Выравнивание

- :\%!fmt 	- Выровнять все строки

- !}fmt -	Выровнять все строки в текущей позиции

- 5!!fmt -	Выровнять следующие 5 строк

#### Разделение окна

- :e filename  -	Редактировать filename в текущем окне

- :split filename  -	Разделить окно и открыть filename

- ctrl-w + стрелка ВВЕРХ  -	Переместить курсор в верхнее окно

- ctrl-w ctrl-w  -	Переместить курсор в следующее окно

- ctrl-w ctrl-p  -	Переместить курсор в предыдущее окно(вернуться назад)

- ctrl-w ctrl-x  -	Поменять окна местами

- ctrl-w_  -	Максимизировать текущее окно

- ctrl-w=  -	Подогнать окна по размеру

- Ctrl + ws - разделить окно

- Ctrl + ww - переключение окон

- Ctrl + wq - закрыть окно

- Ctrl + wv - разделить окно вертикально

- Ctrl + wh - переместить курсор в левое окно (вертикально разделение)

- Ctrl + wl - переместить курсор в правое окно (вертикальное разделение)

- Ctrl + wj - переместить курсор в окно ниже (горизонтальное разделение)

- Ctrl + wk - переместить курсор в окно выше (горизонтальное разделение)

- 10 ctrl-w+  -	Увеличить текущее окно на 10 строк

- :vsplit file  -	Вертикально разделить окно

- :sview file  -	Разделить окно и открыть file только для чтения

- :hide  -	Закрыть текущее окно

- :only  -	Закрыть все окна, кроме текущего

- :b 2  -	Открыть #2 в текущем окне

#### Автодополнение

- Ctrl+n Ctrl+p - (в режиме вставки) 	Дополнить слово

- Ctrl+x Ctrl+l  -	Дополнить строку

- :set dictionary=dict  -	Установить словарь

- Ctrl+x Ctrl+k  -	Дополнение из словаря

#### Метки

- d’k -	Удалить все до метки k

- d’a,’k 	Удалить все от метки a до метки k

- mx -	Создать метку с именем x

- `x -	Переместить курсор на метку x

- ‘x -	Переместить курсор на строку с меткой x

- :marks -	Просмотреть все существующие в данный момент метки

- Ctrl+Shift+o -	Перемещение по меткам назад

- Ctrl+Shift+i -	Перемещение по меткам вперед

- ‘ ‘ -	Переместить курсор на предыдущую метку

#### Сокращения

- :ab mail mail@provider.org -	Определить mail как сокращение от mail@provider.org

#### Отступы

- :set autoindent  -	Включить автоматическую расстановку отступов

- :set smartindent  -	Включить “умную” расстановку отступов

- :set shiftwidth=4  -	Установить отступ равный 4 пробелам

- :set nu		-		Добавить нумерацию строк

- ctrl-t, ctrl-d  -  Убрать/добавить отступ в режиме вставки

- <<  -	Добавить отступ

- \>>  -	Убрать отступ

#### Подсветка синтаксиса

- :syntax on  -	Включить подсветку

- :syntax off  -	Выключить подсветку

- :set syntax=perl  -	Установить режим подсветки

### Команды для Vim

---

#### Из внешнего документа скопировать текст:

- ctrl+c

#### и вставить в vim:

 - ctrl+shift+v 
 
 or 
 
- shift+insert (предпочтительнее)

#### из vim копировать в др.документ:

 - shift+выделить текст

#### вставить в др.документе"

- нажать среднюю кнопку мыши или ctrl+v

---

- vim <’имя файла’> открыть файл в терминале

- :q - выйти.

- :q! - выйти без сохранения.

- :w - сохранить.

- i - режим ввода.

- Esc - обычный режим.

- x - удалить символ.

- / - поиск вперед

- ? - Поиск назад

- n - Найти следующее вхождение

- N - Найти предыдущее вхождение

- d - удалить символ

- dd - удалить всю строку

- D - удалить символы начиная от курсора и до конца строки

- y - копировать символ

- yy или Y - скопировать всю строку

- v - выделить текст

- p - вставить после позиции курсора

- P - вставить перед позицией курсора

- u - отменить последнее действие

- . - повторить еще раз последнее действие

- U - отменить последнее действие в текущей строке

- : № -	Перемещение курсора на строку №...

- №G -	Перемещение курсора на строку №..., аналогично :№...

- gg -	Перемещение курсора в начало

- G -	Перемещение курсора в конец

- w - Вперед на первую букву слова

- e - Вперед на последнюю букву слова

- b - Назад на первую букву слова

- ge - Назад на последнюю букву слова

- $ - End На конец строки

- 0 - (ноль), Home На начало строки

## Для переключения в режим редактирования используются такие команды:

-  i - вставить текст с позиции курсора, символ под курсором будет заменен;

-  I - вставить текст в начало строки;

- a - добавить текст начиная от позиции курсора;

- o - вставить новую строку после этой и начать редактирование;

-  O - вставить новую строку перед этой и начать редактирование;

-  r - заменить текущий символ;

- R - заменить несколько символов.



